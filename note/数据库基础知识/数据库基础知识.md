**数据库技术所研究的问题：科学的组织和存储数据；高效地获取和处理数据**

#### SQL语言

- 结构化查询语言
- SQL是专为数据库而建立的一个操作命令集，是数据库专用的语言。
- 使用SQL语句的时候，只需要发出“做什么”命令，具体“怎么做”是不需要使用者来参与的，直接看SQL语句反馈的结果就可以

### 数据库的基本架构

##### 数据：data

- 定义：对客观事物的符号表示，如图形符号，数字，字母等
- 数据是数据库存储的基本对象

##### 数据库database（DB）

- 长期存储在计算机内，有组织，可共享的数据集合。
- 数据库中数据的特征：较小的冗余度，较高的数据独立性；易扩展性；为各个用户所共享。

##### 数据库管理系统DBMS

- 定义：位于应用程序和存储数据之间的一层数据管理软件。
- 用途：科学的组织和存储数据；搞笑的获取和处理数据
- 四方面的功能：
  1. 数据库的定义功能
     - 在SQL语言中---DDL语言（数据库定义语言），提供了三个语句：create（创建），alter（修改），drop（删除），操作的对象是数据库中的基本架构---表。
     - 备注：虽然数据库中存储的是各种各样的数据，但是数据是以表的形式来组织和存放的。
  2. 数据库的操作功能
     - 借助于SQL语言中---DML语言（数据库操作语言），实现对数据库中存储的数据进行增删改查的操作（insert，delete，update，select）
  3. 数据库的保护功能：
     - 保护数据的完整性和安全性
  4. 数据库的维护功能：
     - 数据库中表结构和数据的维护功能

##### DBMS的优点

- 相互关联的数据的集合
- 较少的数据冗余
- 程序与数据相互对立
- 保证数据的安全、可靠、正确
- 数据可以并发使用并能同时保证一致性

##### 数据库系统DBS

数据库系统（DBS）=数据库（DB）+数据库管理系统（DBMS）+应用系统+数据库管理员（DBA）+用户

数据库系统的发展经理3个阶段:

- 网状数据库、层次数据库和关系数据库。
- 它们分别采用了网状模型、层次模型和关系模型作为数据的组织方式。
  - 网状模型（图形结构）
  - 层次模型（树形结构）
  - 关系模型（简单二维表结构）

###### 关系型数据库：

- 信息：是指数据经过加工处理后所获取的有用知识。信息是以某种数据形式表现的。
- 信息的三种世界
  1. 现实世界
     - 现实世界就是存在于人脑之外的客观世界。
  2. 信息世界
     - 信息世界就是现实世界在人们头脑中的反映，又称观念世界。
  3. 数据世界
     - 数据世界是信息世界中的信息数据化后对应的产物，就是将信息世界中的信息经过抽象和组织，按照特定的数据结构，将数据存储在计算机中。

##### 实体-联系模型

- 实体：客观事物在信息世界中被称为实体

- 属性：描述实体的数据项

  学生是一个实体，属性：学号，性别，年龄，体重.............

- 联系：反映的是实体与实体之间的关联

- 常见的联系：一对一，一对多，多对多

- 一对一联系：家教和孩子

- 一对多：班主任和学生

- 多对多：学生和课程

##### 关系模型

- **概念**
  - 关系：一个关系就是一张二维表，通常将一个没有重复行、重复列的二维表看成一个关系，每个关系都有一个关系名
  - 元组：二维表的每一行在关系中称为元组。在MySQL中，一个元组对应表中的一个记录
  - 属性：二维表的每一列在关系中成为属性，每个属性都有一个属性名，属性值则是各个元组属性的取值。
  - 域：属性的取值范围成为域。域作为属性值的集合，其类型与范围具体由属性的性质及其所表示的意义确定。同意属性只能在相同域中取值。
  - 关键字：关系中能唯一区分、确定不同元组的属性或属性组合，成为该关系的一个关键字。（例如：学生信息表的学号；）
    - 主键：针对一个表中某个列来说的，加入把一个表中的某个列设置成主键，那么这个列就一定要：唯一、不重复、不为空
    - 外键：针对两个表来说的，加强表与表之间的联系。外键的设置也是在于列
- **关系的基本特点**
  - 在关系模型中，关系具有以下基本特点
    1. 关系必须规范化，属性不可再分割。
    2. 在同一关系中不允许出现相同的属性名。
    3. 在同意关系中元组的顺序可以任意。
    4. 在同一关系中属性的顺序可以任意。
- **关系运算**
  - 主要有选择、投影和连接3种。
  - 选择：从关系模式中找出满足给定条件的元组组成新的关系
    - 从行的角度进行的运算(例如：查询WH1航班去往上海的乘客有哪些？)
  - 投影：从关系模式中指定若干属性组成新的关系
    - 从列的角度进行的运算（例如：员工信息表：员工编号，姓名，性别，部门，我只需要员工编号，姓名，部门）
  - 连接：从两个关系的笛卡尔积中选取属性间满足一定条件的元组，组成新的关系（冗余）
    - 假设集合A={a,b},集合B={0，1，2}，则两个集合的笛卡尔积为{（a,0),(a,1),(a,2),(b,0),(b,1),(b,2)}
- 关系的完整性约束
  - 实体完整性
    - 主属性值（主关系键的值）不能取空值
  - 参照完整性（引用完整性）
    - 简单说就是主键与外键的关系
  - 域完整性（用户定义完整性）
    - 限制某个列的取值要求，把取值固定在一个有效的集合范围之内
- 关系模型的规范化
  - 关系模式要满足的条件称为规范化形式，简称范式。
  - 关系模型规范化的目的是为了消除存储异常，减少数据冗余，保证数据的完整性和存储效率，一般规范为3NF（范式：normal form）即可。
    - 第一范式（1NF）
      - 如果关系R的所有属性均为简单属性，即每个属性都是不可再分的，则称R满足第一范式。
      - 简单来说就是没有重复的列
    - 第二范式（2NF）
      - 如果关系R满足第一范式，且每一个非主键字段完全依赖于主键，则称R满足第二范式。
    - 第三范式（3NF）
      - 如果关系R满足第二范式，且非主键字段之间不存在依赖关系，则成R满足第三范式。
- 一个基本的关系型数据库要满足第一范式，一个完整的关系型数据库要满足第三范式。

##### E-R图

- E-R图也称实体-联系图（Entity Relationship Diagram），提供了表示实体类型、属性和联系的方法，用来描述显示世界的概念模型。
  - 通常用矩形表示实体型，矩形框内写明实体名
  - 用椭圆表示实体属性，椭圆内写明实体属性名
  - 用菱形表示实体型间的联系，在菱形内写明联系名
  - 用线段连接

### 常见的数据库

#### Oracle

- 应用广泛、功能强大，分布式数据库系统
- 可移植性好

#### MySQL

- 开源、免费、与PHP组成经典的LAMP组合
- 快速的、可靠的和易于使用

#### SQL Server

- Web上最流行的用于存储数据的数据库
- 易用性好但只能在Windows上运行





